<html>

    <head>
        <title>jeffxu776</title>

        <link rel="icon"
            href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTmQPZ7RfdeOFamvmd5VKmLiMGQ8Z0nPSt2CQ&usqp=CAU"
            type="image/png">

        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
            crossorigin="anonymous">

        <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        }

        #chartdiv {
            width: 100%;
            height: 500px;
            max-width: 100%;
        }
    </style>
    </head>

    <body>
        <div class="container mt-2">
            <h1 class="text-center">*** Demo for jeffxu776 *** </h1>
            <div class="card mb-2">
                <div class="card-header text-center"><a target="_blank"
                        href="https://finance.yahoo.com/chart/SPY#eyJpbnRlcnZhbCI6IndlZWsiLCJwZXJpb2RpY2l0eSI6MSwiY2FuZGxlV2lkdGgiOjEsImZsaXBwZWQiOmZhbHNlLCJ2b2x1bWVVbmRlcmxheSI6dHJ1ZSwiYWRqIjp0cnVlLCJjcm9zc2hhaXIiOnRydWUsImNoYXJ0VHlwZSI6ImxpbmUiLCJleHRlbmRlZCI6ZmFsc2UsIm1hcmtldFNlc3Npb25zIjp7fSwiYWdncmVnYXRpb25UeXBlIjoib2hsYyIsImNoYXJ0U2NhbGUiOiJsb2ciLCJwYW5lbHMiOnsiY2hhcnQiOnsicGVyY2VudCI6MC44LCJkaXNwbGF5IjoiU1BZIiwiY2hhcnROYW1lIjoiY2hhcnQiLCJpbmRleCI6MCwieUF4aXMiOnsibmFtZSI6ImNoYXJ0IiwicG9zaXRpb24iOm51bGx9LCJ5YXhpc0xIUyI6W10sInlheGlzUkhTIjpbImNoYXJ0Iiwi4oCMdm9sIHVuZHLigIwiXX0sIuKAjG1hY2TigIwgKDEyLDI2LDkpIjp7InBlcmNlbnQiOjAuMiwiZGlzcGxheSI6IuKAjG1hY2TigIwgKDEyLDI2LDkpIiwiY2hhcnROYW1lIjoiY2hhcnQiLCJpbmRleCI6MSwieUF4aXMiOnsibmFtZSI6IuKAjG1hY2TigIwgKDEyLDI2LDkpIiwicG9zaXRpb24iOm51bGx9LCJ5YXhpc0xIUyI6W10sInlheGlzUkhTIjpbIuKAjG1hY2TigIwgKDEyLDI2LDkpIl19fSwic2V0U3BhbiI6bnVsbCwibGluZVdpZHRoIjoyLCJzdHJpcGVkQmFja2dyb3VuZCI6dHJ1ZSwiZXZlbnRzIjp0cnVlLCJjb2xvciI6IiMwMDgxZjIiLCJzdHJpcGVkQmFja2dyb3VkIjp0cnVlLCJyYW5nZSI6bnVsbCwiZXZlbnRNYXAiOnsiY29ycG9yYXRlIjp7ImRpdnMiOnRydWUsInNwbGl0cyI6dHJ1ZX0sInNpZ0RldiI6e319LCJjdXN0b21SYW5nZSI6bnVsbCwic3ltYm9scyI6W3sic3ltYm9sIjoiU1BZIiwic3ltYm9sT2JqZWN0Ijp7InN5bWJvbCI6IlNQWSIsInF1b3RlVHlwZSI6IkVURiIsImV4Y2hhbmdlVGltZVpvbmUiOiJBbWVyaWNhL05ld19Zb3JrIn0sInBlcmlvZGljaXR5IjoxLCJpbnRlcnZhbCI6IndlZWsiLCJzZXRTcGFuIjpudWxsfV0sInN0dWRpZXMiOnsi4oCMdm9sIHVuZHLigIwiOnsidHlwZSI6InZvbCB1bmRyIiwiaW5wdXRzIjp7ImlkIjoi4oCMdm9sIHVuZHLigIwiLCJkaXNwbGF5Ijoi4oCMdm9sIHVuZHLigIwifSwib3V0cHV0cyI6eyJVcCBWb2x1bWUiOiIjMDBiMDYxIiwiRG93biBWb2x1bWUiOiIjZmYzMzNhIn0sInBhbmVsIjoiY2hhcnQiLCJwYXJhbWV0ZXJzIjp7IndpZHRoRmFjdG9yIjowLjQ1LCJjaGFydE5hbWUiOiJjaGFydCIsInBhbmVsTmFtZSI6ImNoYXJ0In19LCLigIxtYWNk4oCMICgxMiwyNiw5KSI6eyJ0eXBlIjoibWFjZCIsImlucHV0cyI6eyJGYXN0IE1BIFBlcmlvZCI6MTIsIlNsb3cgTUEgUGVyaW9kIjoyNiwiU2lnbmFsIFBlcmlvZCI6OSwiaWQiOiLigIxtYWNk4oCMICgxMiwyNiw5KSIsImRpc3BsYXkiOiLigIxtYWNk4oCMICgxMiwyNiw5KSJ9LCJvdXRwdXRzIjp7Ik1BQ0QiOiIjYWQ2ZWZmIiwiU2lnbmFsIjoiI2ZmYTMzZiIsIkluY3JlYXNpbmcgQmFyIjoiIzc5ZjRiZCIsIkRlY3JlYXNpbmcgQmFyIjoiI2ZmODA4NCJ9LCJwYW5lbCI6IuKAjG1hY2TigIwgKDEyLDI2LDkpIiwicGFyYW1ldGVycyI6eyJjaGFydE5hbWUiOiJjaGFydCIsInBhbmVsTmFtZSI6IuKAjG1hY2TigIwgKDEyLDI2LDkpIn19fX0-">Yahoo
                        Finance Sample</a></div>
                <div class="card-body">
                    <div id="chartdiv"></div>
                </div>
            </div>
        </div>

        <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
        <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
        <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
        <script>
        /**
* ---------------------------------------
* This demo was created using amCharts 5.
* 
* For more information visit:
* https://www.amcharts.com/
* 
* Documentation is available at:
* https://www.amcharts.com/docs/v5/
* ---------------------------------------
*/

        // Create root element
        // https://www.amcharts.com/docs/v5/getting-started/#Root_element
        var root = am5.Root.new("chartdiv");


        // Set themes
        // https://www.amcharts.com/docs/v5/concepts/themes/
        root.setThemes([
            am5themes_Animated.new(root)
        ]);


        // Create chart
        // https://www.amcharts.com/docs/v5/charts/xy-chart/
        var chart = root.container.children.push(am5xy.XYChart.new(root, {
            panX: true,
            panY: false,
            wheelX: "panX",
            wheelY: "zoomX",
            layout: root.verticalLayout,
            pinchZoomX: true
        }));

        chart.get("colors").set("step", 2);


        // Create axes
        // https://www.amcharts.com/docs/v5/charts/xy-chart/axes/
        var valueAxisRenderer = am5xy.AxisRendererY.new(root, {
            inside: true
        });
        valueAxisRenderer.labels.template.setAll({
            centerY: am5.percent(100),
            maxPosition: 0.98
        });
        var valueAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
            renderer: valueAxisRenderer,
            height: am5.percent(70)
        }));
        valueAxis.axisHeader.children.push(am5.Label.new(root, {
            text: "Value",
            fontWeight: "bold",
            paddingBottom: 5,
            paddingTop: 5
        }));

        var volumeAxisRenderer = am5xy.AxisRendererY.new(root, {
            inside: true
        });
        volumeAxisRenderer.labels.template.setAll({
            centerY: am5.percent(100),
            maxPosition: 0.98
        });
        var volumeAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
            renderer: volumeAxisRenderer,
            height: am5.percent(30),
            layer: 5,
            numberFormat: "#a"
        }));
        volumeAxis.axisHeader.set("paddingTop", 10);
        volumeAxis.axisHeader.children.push(am5.Label.new(root, {
            text: "Volume",
            fontWeight: "bold",
            paddingTop: 5,
            paddingBottom: 5
        }));


        var dateAxisRenderer = am5xy.AxisRendererX.new(root, {});
        dateAxisRenderer.labels.template.setAll({
            minPosition: 0.01,
            maxPosition: 0.99,
            minGridDistance: 40
        });
        var dateAxis = chart.xAxes.push(am5xy.GaplessDateAxis.new(root, {
            groupData: true,
            //groupCount: 20,
            baseInterval: { timeUnit: "day", count: 1 },
            renderer: dateAxisRenderer
        }));
        dateAxis.set("tooltip", am5.Tooltip.new(root, {}));

        var color = root.interfaceColors.get("background");

        // Add series
        // https://www.amcharts.com/docs/v5/charts/xy-chart/series/
        var valueSeries = chart.series.push(
            am5xy.CandlestickSeries.new(root, {
                fill: color,
                clustered: false,
                calculateAggregates: true,
                stroke: color,
                name: "MSFT",
                xAxis: dateAxis,
                yAxis: valueAxis,
                valueYField: "Close",
                openValueYField: "Open",
                lowValueYField: "Low",
                highValueYField: "High",
                valueXField: "Date",
                lowValueYGrouped: "low",
                highValueYGrouped: "high",
                openValueYGrouped: "open",
                valueYGrouped: "close",
                legendValueText: "open: {openValueY} low: {lowValueY} high: {highValueY} close: {valueY}",
                legendRangeValueText: "{valueYClose}"
            })
        );

        var valueTooltip = valueSeries.set("tooltip", am5.Tooltip.new(root, {
            getFillFromSprite: false,
            getStrokeFromSprite: true,
            getLabelFillFromSprite: true,
            autoTextColor: false,
            pointerOrientation: "horizontal",
            labelText: "{name}: {valueY} {valueYChangePreviousPercent.formatNumber('[#00ff00]+#,###.##|[#ff0000]#,###.##|[#999999]0')}%"
        }));
        valueTooltip.get("background").set("fill", root.interfaceColors.get("background"));


        var firstColor = chart.get("colors").getIndex(0);
        var volumeSeries = chart.series.push(am5xy.ColumnSeries.new(root, {
            name: "MSFT",
            clustered: false,
            fill: firstColor,
            stroke: firstColor,
            valueYField: "Volume",
            valueXField: "Date",
            valueYGrouped: "sum",
            xAxis: dateAxis,
            yAxis: volumeAxis,
            legendValueText: "{valueY}",
            tooltip: am5.Tooltip.new(root, {
                labelText: "{valueY}"
            })
        }));

        volumeSeries.columns.template.setAll({
            //strokeWidth: 0.5,
            //strokeOpacity: 1,
            //stroke: am5.color(0xffffff)
        });


        // Add legend to axis header
        // https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/
        // https://www.amcharts.com/docs/v5/charts/xy-chart/legend-xy-series/
        var valueLegend = valueAxis.axisHeader.children.push(
            am5.Legend.new(root, {
                useDefaultMarker: true
            })
        );
        valueLegend.data.setAll([valueSeries]);

        var volumeLegend = volumeAxis.axisHeader.children.push(
            am5.Legend.new(root, {
                useDefaultMarker: true
            })
        );
        volumeLegend.data.setAll([volumeSeries]);


        // Stack axes vertically
        // https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Stacked_axes
        chart.leftAxesContainer.set("layout", root.verticalLayout);


        // Add cursor
        // https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/
        chart.set("cursor", am5xy.XYCursor.new(root, {}))


        // Add scrollbar
        // https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/
        var scrollbar = chart.set("scrollbarX", am5xy.XYChartScrollbar.new(root, {
            orientation: "horizontal",
            height: 50
        }));

        var sbDateAxis = scrollbar.chart.xAxes.push(am5xy.GaplessDateAxis.new(root, {
            groupData: true,
            groupIntervals: [{
                timeUnit: "week",
                count: 1
            }],
            baseInterval: {
                timeUnit: "day",
                count: 1
            },
            renderer: am5xy.AxisRendererX.new(root, {})
        }));

        var sbValueAxis = scrollbar.chart.yAxes.push(
            am5xy.ValueAxis.new(root, {
                renderer: am5xy.AxisRendererY.new(root, {})
            })
        );

        var sbSeries = scrollbar.chart.series.push(am5xy.LineSeries.new(root, {
            valueYField: "Adj Close",
            valueXField: "Date",
            xAxis: sbDateAxis,
            yAxis: sbValueAxis
        }));

        sbSeries.fills.template.setAll({
            visible: true,
            fillOpacity: 0.3
        });


        // Load external data
        // https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Setting_data
        am5.net.load("https://www.amcharts.com/wp-content/uploads/assets/stock/MSFT.csv").then(function (result) {

            // Parse loaded data
            var data = am5.CSVParser.parse(result.response, {
                delimiter: ",",
                reverse: true,
                skipEmpty: true,
                useColumnNames: true
            });

            // Process data (convert dates and values)
            var processor = am5.DataProcessor.new(root, {
                dateFields: ["Date"],
                dateFormat: "yyyy-MM-dd",
                numericFields: ["Open", "High", "Low", "Close", "Adj Close", "Volume"]
            });
            processor.processMany(data);

            console.log(data)

            // Set data
            valueSeries.data.setAll(data);
            volumeSeries.data.setAll(data);
            sbSeries.data.setAll(data);
        });



        // Make stuff animate on load
        // https://www.amcharts.com/docs/v5/concepts/animations/
        chart.appear(1000, 100);
    </script>
    </body>

</html>